---
layout: post
title: 绘制三角形方式
date: 2014-09-26 12:00:00
---

一般情况下有三种绘制一系列三角形的方式，分别是GL_TRIANGLES、GL_TRIANGLE_STRIP和GL_TRIANGLE_FAN。<br/>
GL_TRIANGLES是以每三个顶点绘制一个三角形。第一个三角形使用顶点v0,v1,v2,第二个使用v3,v4,v5,以此类推。如果顶点的个数n不是3的倍数，那么最后的1个或者2个顶点会被忽略。<br/>
<img src="/images/triangle.png">
GL_TRIANGLE_STRIP则稍微有点复杂。<br/>
其规律是：<br/>
构建当前三角形的顶点的连接顺序依赖于要和前面已经出现过的2个顶点组成三角形的当前顶点的序号的奇偶性（如果从0开始）：<br/>
如果当前顶点是奇数：<br/>
组成三角形的顶点排列顺序：T = [n-1 n-2 n].<br/>
如果当前顶点是偶数：<br/>
组成三角形的顶点排列顺序：T = [n-2 n-21 n].<br/>
以上图为例，第一个三角形，顶点v2序号是2，是偶数，则顶点排列顺序是v0,v1,v2。第二个三角形，顶点v3序号是3，是奇数，则顶点排列顺序是v2,v1,v3,第三个三角形，顶点v4序号是4，是偶数，则顶点排列顺序是v2,v3,v4,以此类推。<br/>
这个顺序是为了保证所有的三角形都是按照相同的方向绘制的，使这个三角形串能够正确形成表面的一部分。对于某些操作，维持方向是很重要的，比如剔除。<br/>
注意：顶点个数n至少要大于3，否则不能绘制任何三角形。<br/>
<br/>
GL_TRIANGLE_FAN与GL_TRIANGLE_STRIP类似，不过它的三角形的顶点排列顺序是T = [n-1 n-2 n].各三角形形成一个扇形序列。
